import React, { useState, useEffect } from "react";

import MainMenu from "./mainmenu.component";
import PageMenu from "./pagemenu.component";


import { Link, withRouter } from "react-router-dom";

const Header = (props) => {
    const [menuOpen, setMenuOpen] = useState(false);

    const showMenuClasses = menuOpen
        ? "overlay animate__animated show animate__slideInLeft"
        : "overlay animate__animated";
    const btnClasses = menuOpen ? "btn__menu btn--active" : "btn__menu";

    useEffect(() => {
        const { history } = props;

        history.listen(() => {
            setMenuOpen(false);
        });
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
    });

    return (
        <>
            <div
                className={btnClasses}
                title="menu"
                onClick={() => setMenuOpen(!menuOpen)}
            >
                <span></span>
                <span></span>
            </div>
            <header className="header">
                <Link
                    to="/"
                    title="Alyana Yaokana | Interior Design"
                    className="branding__link"
                >
                    <svg className="branding__svg"
                        preserveAspectRatio="xMidYMid"
                        viewBox="0 0 700 700"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            className="svg--a"
                            d="m363.72 447.65-2.8-6.717-146.73-334.75-109.34 249.44h87.936v20.969h-97.128l-28.202 64.339-2.8 6.717h-24.642l7.28-15.674 156.81-358.26 2.8-6.717h14.562l2.8 6.717 156.81 358.26 7.28 15.674h-24.642z"
                        />
                        <path
                            className="svg--y"
                            d="m659 67.342-211.42 380.65h-23.802l52.616-95.04-124.02-285.61 24.65 6e-3 113.39 260.28 144.11-260.3 24.479 0.011z"
                        />
                        <path
                            className="svg--title"
                            d="m645.94 536.68-0.351-0.842-18.386-41.969-18.386 41.969-0.35 0.842h-3.088l0.912-1.965 19.649-44.917 0.351-0.842h1.824l0.351 0.842 19.649 44.917 0.913 1.965h-3.088zm-48.912 0h-2.105l-0.421-0.561-29.684-41.408v40.565 1.404h-2.807v-1.404-44.917-1.403h2.105l0.421 0.561 29.684 41.408 0.07-40.566v-1.403h2.807v1.403l-0.07 44.917v1.404zm-46.736-0.842-18.386-41.969-18.386 41.969-0.351 0.842h-3.087l0.912-1.965 19.649-44.917 0.351-0.842h1.824l0.351 0.842 19.649 44.917 0.912 1.965h-3.087l-0.351-0.842zm-42.245 0.842h-4l-0.421-0.421-22.737-22.037h-5.754v21.054 1.404h-2.807v-1.404-21.054-2.808-21.055-1.403h2.807v1.403 21.055h5.754l22.737-22.037 0.421-0.421h4l-24.561 23.862 24.561 23.862zm-68.63 0c-5.661-0.046-10.551-2.292-14.667-6.737-4.257-4.679-6.386-10.387-6.386-17.125s2.129-12.445 6.386-17.125c4.116-4.491 9.006-6.737 14.667-6.737 5.66 0 10.549 2.246 14.666 6.737 4.257 4.68 6.386 10.387 6.386 17.125s-2.129 12.446-6.386 17.125c-4.117 4.491-9.006 6.737-14.666 6.737zm12.982-38.6c-3.603-4.211-7.93-6.317-12.982-6.317-4.772 0.047-8.937 1.965-12.491 5.755-3.837 4.165-5.755 9.264-5.755 15.3 0 5.709 1.755 10.622 5.263 14.738 3.602 4.211 7.93 6.317 12.983 6.317 4.818 0 8.982-1.918 12.491-5.755 3.835-4.164 5.754-9.264 5.754-15.3 0-5.708-1.754-10.621-5.263-14.738zm-42.947 37.758-18.386-41.969-18.386 41.969-0.35 0.842h-3.088l0.912-1.965 19.649-44.917 0.351-0.842h1.825l0.35 0.842 19.649 44.917 0.913 1.965h-3.088l-0.351-0.842zm-58.876-22.599v22.037 1.404h-2.807v-1.404-22.037l-14.667-22.108-1.403-2.175h3.368l0.421 0.631 13.684 20.704 13.404-20.704 0.421-0.631h3.368l-1.403 2.175-14.386 22.108zm-69.202 22.599-18.386-41.969-18.385 41.969-0.351 0.842h-3.088l0.912-1.965 19.649-44.917 0.351-0.842h1.825l0.35 0.842 19.649 44.917 0.913 1.965h-3.088l-0.351-0.842zm-48.561 0.842h-2.105l-0.421-0.561-29.684-41.408v40.565 1.404h-2.807v-1.404-44.917-1.403h2.105l0.421 0.561 29.684 41.408 0.071-40.566v-1.403h2.807v1.403l-0.071 44.917v1.404zm-46.736-0.842-18.386-41.969-18.386 41.969-0.351 0.842h-3.087l0.912-1.965 19.649-44.917 0.351-0.842h1.824l0.351 0.842 19.649 44.917 0.912 1.965h-3.087l-0.351-0.842zm-58.876-22.599v22.037 1.404h-2.807v-1.404-22.037l-14.667-22.108-1.403-2.175h3.368l0.421 0.631 13.684 20.704 13.404-20.704 0.421-0.631h3.368l-1.403 2.175-14.386 22.108zm-49.192 23.441h-1.404v-1.404-44.917-1.403h2.807v1.403 43.514h23.86 1.403v2.807h-1.403-25.263zm-13.123-0.842-18.386-41.969-18.385 41.969-0.351 0.842h-3.088l0.912-1.965 19.649-44.917 0.351-0.842h1.825l0.35 0.842 19.649 44.917 0.913 1.965h-3.088l-0.351-0.842z"
                        />
                    <path
                        className="svg--title"
                        d="m444.27 570.41c0.381 0.324 0.748 0.677 1.101 1.058 1.82 2.059 3.64 6.118 5.461 12.176l0.353 1.147h-1.85l-0.176-0.617c-1.293-4.176-2.482-7.264-3.568-9.265-0.94-1.676-2.202-3.088-3.788-4.235h-11.187v13.235 0.882h-1.761v-0.882-13.235-0.882l0.044-14.073v-0.882h0.881l12.244-0.044c2.172 0 4.096 0.633 5.769 1.897 2.055 1.618 3.083 3.647 3.083 6.088 0 1.265-0.323 2.47-0.969 3.617-1.233 2.089-3.112 3.427-5.637 4.015zm3.435-11.338c-1.409-1.676-3.303-2.514-5.681-2.514h-11.408v12.396h0.088 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045l0.044-0.044h0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 2.863c1.585 0 3.023-0.426 4.316-1.28 1.82-1.235 2.73-2.852 2.73-4.852 0-1.353-0.47-2.588-1.409-3.706zm-46.553 25.719h-0.881v-0.882-13.235-1.764-13.235-0.882h0.881 19.379 0.88v1.765h-0.88-18.499v12.352h13.301 0.881v1.764h-0.881-13.301v12.353h18.499 0.88v1.764h-0.88-19.379zm-10.13 0h-1.322l-0.264-0.353-18.63-26.028v25.499 0.882h-1.762v-0.882-28.234-0.882h1.322l0.264 0.353 18.63 26.028 0.044-25.499v-0.882h1.762v0.882l-0.044 28.234v0.882zm-42.589 0c-3.583 0-6.651-1.412-9.205-4.235-2.702-2.911-4.052-6.499-4.052-10.764 0-4.235 1.35-7.823 4.052-10.764 2.554-2.823 5.622-4.235 9.205-4.235 1.996 0 3.978 0.485 5.945 1.456 2.525 1.265 4.317 2.927 5.374 4.985l-1.586 0.794c-0.47-0.941-1.189-1.823-2.158-2.647-2.232-1.911-4.757-2.852-7.575-2.823-3.025 0.029-5.653 1.235-7.884 3.617-2.408 2.618-3.612 5.823-3.612 9.617 0 3.559 1.086 6.632 3.26 9.22 2.26 2.677 5.005 4.015 8.236 4.015 3.053-0.029 5.725-1.28 8.016-3.75 2.26-2.471 3.391-5.338 3.391-8.603h-11.363v-1.764h13.125v0.882c-0.03 4.235-1.381 7.853-4.052 10.852-2.555 2.765-5.594 4.147-9.117 4.147zm-22.198-0.882v-28.234-0.882h1.762v0.882 28.234 0.882h-1.762v-0.882zm-18.586-15.793c3.729 1.471 5.961 2.382 6.695 2.735 3.376 1.676 5.065 3.677 5.065 5.999-0.03 1.795-0.823 3.441-2.379 4.941-2.143 2.001-4.874 3-8.192 3-2.818 0-5.256-0.735-7.311-2.206-2.173-1.588-3.259-3.499-3.259-5.735h1.762c0.029 1.383 0.631 2.633 1.806 3.75 1.79 1.618 4.124 2.427 7.002 2.427 2.085 0 3.964-0.486 5.638-1.456 2.114-1.264 3.171-2.838 3.171-4.721 0-0.617-0.191-1.205-0.573-1.764-0.792-1.176-2.862-2.426-6.21-3.75-3.729-1.441-5.945-2.338-6.65-2.691-3.377-1.647-5.065-3.617-5.065-5.911 0-1.824 0.689-3.456 2.07-4.897 1.938-2.029 4.477-3.044 7.619-3.044 2.496 0 4.669 0.691 6.519 2.073 2.114 1.56 3.171 3.515 3.171 5.868h-1.762c0-1.353-0.528-2.588-1.585-3.706-1.616-1.647-3.73-2.47-6.343-2.47-1.82 0-3.479 0.456-4.976 1.367-1.968 1.235-2.951 2.839-2.951 4.809 0 0.588 0.176 1.147 0.528 1.676 0.793 1.177 2.863 2.412 6.21 3.706zm-34.441 16.675h-0.881v-0.882-13.235-1.764-13.235-0.882h0.881 19.379 0.88v1.765h-0.88-18.499v12.352h13.301 0.881v1.764h-0.881-13.301v12.353h18.499 0.88v1.764h-0.88-19.379zm-11.275-4.72c-2.232 2.853-5.036 4.426-8.412 4.72h-0.044-0.044-10.571-0.881v-0.882-28.234-0.882h0.881 10.615 0.044c3.288 0.324 6.048 1.838 8.28 4.544 2.407 2.971 3.435 6.456 3.083 10.455 0.322 3.853-0.661 7.279-2.951 10.279zm-1.145-19.146c-1.909-2.647-4.376-4.103-7.4-4.367h-9.645v26.469h9.645c2.76-0.265 5.094-1.559 7.003-3.883 2.114-2.646 3.024-5.763 2.731-9.352v-0.088c0.264-3.294-0.514-6.22-2.334-8.779zm-45.628 22.719l0.352 1.147h-1.85l-0.176-0.617c-1.292-4.176-2.481-7.264-3.567-9.265-0.94-1.676-2.202-3.088-3.788-4.235h-11.187v13.235 0.882h-1.762v-0.882-13.235-0.882l0.044-14.073v-0.882h0.881l12.244-0.044c2.173 0 4.096 0.633 5.77 1.897 2.055 1.618 3.083 3.647 3.083 6.088 0 1.265-0.324 2.47-0.969 3.617-1.233 2.089-3.113 3.427-5.638 4.015 0.382 0.324 0.749 0.677 1.102 1.058 1.82 2.059 3.64 6.118 5.461 12.176zm-4.448-16.014c1.82-1.235 2.73-2.852 2.73-4.852 0-1.353-0.47-2.588-1.409-3.706-1.41-1.676-3.303-2.514-5.682-2.514h-11.407v12.396h0.088 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044l0.044-0.044h0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 2.863c1.586 0 3.024-0.426 4.317-1.28zm-38.185 17.161c-3.553-0.029-6.622-1.441-9.205-4.235-2.672-2.94-4.008-6.529-4.008-10.764s1.336-7.823 4.008-10.764c2.583-2.823 5.652-4.235 9.205-4.235 3.552 0 6.621 1.412 9.205 4.235 2.671 2.941 4.008 6.529 4.008 10.764s-1.337 7.824-4.008 10.764c-2.584 2.823-5.653 4.235-9.205 4.235zm8.148-24.263c-2.262-2.647-4.977-3.97-8.148-3.97-2.995 0.029-5.609 1.235-7.84 3.617-2.408 2.618-3.611 5.823-3.611 9.617 0 3.589 1.101 6.677 3.303 9.264 2.26 2.647 4.977 3.971 8.148 3.971 3.024 0 5.637-1.206 7.839-3.618 2.408-2.617 3.612-5.823 3.612-9.617 0-3.588-1.101-6.676-3.303-9.264zm-30.302 23.381v-28.234-0.882h1.762v0.882 28.234 0.882h-1.762v-0.882zm-7.751-0.265l0.353 1.147h-1.85l-0.176-0.617c-1.293-4.176-2.482-7.264-3.568-9.265-0.94-1.676-2.202-3.088-3.787-4.235h-11.187v13.235 0.882h-1.762v-0.882-13.235-0.882l0.044-14.073v-0.882h0.881l12.244-0.044c2.172 0 4.096 0.633 5.769 1.897 2.055 1.618 3.083 3.647 3.083 6.088 0 1.265-0.323 2.47-0.969 3.617-1.233 2.089-3.112 3.427-5.637 4.015 0.381 0.324 0.749 0.677 1.101 1.058 1.82 2.059 3.64 6.118 5.461 12.176zm-4.448-16.014c1.82-1.235 2.731-2.852 2.731-4.852 0-1.353-0.47-2.588-1.41-3.706-1.409-1.676-3.303-2.514-5.681-2.514h-11.407v12.396h0.088 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044l0.044-0.044h0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.045 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 0.044 2.863c1.585 0 3.024-0.426 4.316-1.28zm-45.232 17.161h-0.881v-0.882-13.235-1.764-13.235-0.882h0.881 19.379 0.881v1.765h-0.881-18.498v12.352h13.301 0.881v1.764h-0.881-13.301v12.353h18.498 0.881v1.764h-0.881-19.379zm-17.089-28.233v27.351 0.882h-1.762v-0.882-27.351h-9.733-0.881v-1.765h0.881 9.733 1.762 9.646 0.88v1.765h-0.88-9.646zm-18.101 28.233h-1.322l-0.264-0.353-18.63-26.028v25.499 0.882h-1.762v-0.882-28.234-0.882h1.321l0.265 0.353 18.63 26.028 0.044-25.499v-0.882h1.762v0.882l-0.044 28.234v0.882zm-32.68-0.882v-28.234-0.882h1.762v0.882 28.234 0.882h-1.762v-0.882z"
                    />
                    </svg>
                </Link>
                <PageMenu />
            </header>
            <MainMenu showMenu={showMenuClasses} />
        </>
    );
};

export default withRouter(Header);
